## Goal:
The goal is to count the plants on images of crop fields captured by a UAV.

## Methods:
A quick grasp of the methods are also available in the [video](https://www.youtube.com/watch?v=85YllTyfxaQ&t=205s)
![](https://github.com/LittleCoinCoin/Plant_Counting/blob/Pre-Release/Documentation/Images/MAS_Hierarchy_Structure.png)
- The Multi-Agents System (MAS) is structured after a corporate hierarchy of 4 layers.
- Agents on one layer supervise a group of agents on the layer below them. The top 3 layers act
and give orgers to their subordinates based on the geometry of the field. For instance, a Row
Agent makes sure that the Pant Agents are staying aligned. The bottom layer consists in Pixels
Agents which react to white pixels in the image.
- At the end of the simulation, we consider that 1 Plant Agent = 1 actual plant on the image.
- The number of Plant Agents is regulated by the Row Agents which merge or initialize new
Plant Agents if they are too close or too far from each other respectively.
- The system ends its research when the number of Plant Agents has stabilized.

## Variables the user can change:
- *_path_input_rgb_img (string)*: directory of the original RGD images

- *_path_PreTreatment_and_FA (string)*: root directory of the outputs generated by the
pre-processing and Fourier Analysis steps

- *_session_number (int, optional with default value 1)*: the results of every run are
further organized in a session folder. This parameters controls the index of the folder.

- *_RAs_group_size (int, opional with default value 20)*: __VERY IMPORTANT PARAMETER.__ Controls
the size of the square shape area in which the Pixel Agents under the command of a Plant Agent
initialized. Two Plant Agents are merged when they are both included in the Pixel Agents area
of the other. Therefore, increasing *_RAs_group_size* will tend to promote merging and therefore
reducing the number of predicted plants. On the other hand, decreasing it will result in a higher
number of predicted plants. The default value of 20 proved satisfying in most situations tested
but do not hesitate to change this parameter's value if you observe consequent underestimation or
overestimation.

- *_RAs_group_steps (int, optional with default value 2)*: controls the spacing in between two
Pixel Agents under the command of the same Plant Agent.

                                ________________________ _RAs_group_size ____________________________
                               |                                                                     |
                               |                                                                     |
                              .+------------------------------- North -------------------------------+
                             / |                                                                     |
                            /  |                              PX(i-1,i)                              |
                           /   |                                  |                                  |
                          /    |                                  |                                  |
                         /     |                                  |                                  |
                        /      |                          _RAs_group_steps_                          |
                       /       |                                  |                                  |
                      /        |            _RAs_group_steps_     |    _RAs_group_steps_             |
                     /         W           /                 \    |   /                 \            E
      _RAs_group_size          e  PX(i,i-1)                    PX(i,i)                   PX(i,i+1)   a
                     \         s                                  |                                  s
                      \        t                                  |                                  t
                       \       |                                  |                                  |
                        \      |                          _RAs_group_steps_                          |
                         \     |                                  |                                  |
                          \    |                                  |                                  |
                           \   |                                  |                                  |
                            \  |                              PX(i+1,i)                              |
                             \ |                                                                     |
                              .+------------------------------- South -------------------------------+

- *_Simulation_steps(int, optional with default value 50)*: sets the maximal number of steps of the
simulation in case the number of Plant Agents do not stabilizes.

- _RALs_fuse_factor (float, optional with default value 0.5)*: threshold relatively to the 
Inter Plant Critical Distance (IPCD, watch the [video](https://www.youtube.com/watch?v=85YllTyfxaQ&t=205s) for more details) below which two Plant Agents
are merged irrespective of their overlapping Pixel Agents area.

- _RALs_fill_factor (float, optional with default value 1.5)*: threshold relatively to the 
Inter Plant Critical Distance (IPCD, watch the [video](https://www.youtube.com/watch?v=85YllTyfxaQ&t=205s) for more details) above which Plant Agents
are initialized in between two existing Plant Agents.
